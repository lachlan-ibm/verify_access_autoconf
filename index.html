<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to verify-access-autoconf documentation! &mdash; verify-access-autoconf  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Example Verify Access Configurations (Getting Started)" href="examples.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            verify-access-autoconf
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example Verify Access Configurations (Getting Started)</a></li>
<li class="toctree-l1"><a class="reference internal" href="appliance.html">Appliance Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="container.html">Container Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="webseal.html">WebSEAL Reverse Proxy Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="access-control.html">Advanced Access Control Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="federations.html">Federations Configuration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">verify-access-autoconf</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Welcome to verify-access-autoconf documentation!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="welcome-to-verify-access-autoconf-documentation">
<h1>Welcome to verify-access-autoconf documentation!<a class="headerlink" href="#welcome-to-verify-access-autoconf-documentation" title="Permalink to this heading"></a></h1>
<p>verify-access-autoconf is an automation layer written on top of pyISVA. This library should be used to apply
YAML configuration files to a Verify Access deployment.</p>
<p>This library is designed to work with both Appliance and Container based deployments, and is not idempotent.</p>
<p>Configuration is supplied in YAML syntax using a well-defined data structure (detailed in this doc).</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<p>You can install <code class="docutils literal notranslate"><span class="pre">verify-access-autoconf</span></code> with <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span>verify-access-autoconf
</pre></div>
</div>
</section>
<section id="architecture">
<span id="verify-access-autoconf-architecture"></span><h2>Architecture<a class="headerlink" href="#architecture" title="Permalink to this heading"></a></h2>
<p>Users should take care to ensure the configuration of these separate features are compatible (eg. conflicting ALC’s
in a WebSEAL reverse proxy). Administrators will also have to define the <code class="docutils literal notranslate"><span class="pre">webseal.runtime</span></code> entry for many configuration
options even if the <a class="reference internal" href="webseal.html#webseal-runtime-server"><span class="std std-ref">WebSEAL Runtime Component</span></a> is already configured.</p>
<p>Example configurations can be found in the <code class="docutils literal notranslate"><span class="pre">examples</span></code> directory with additional documentation in the
<a class="reference external" href="examples.html">Examples / Getting Started</a> page.</p>
<section id="modules">
<span id="verify-access-autoconf-modules"></span><h3>Modules<a class="headerlink" href="#modules" title="Permalink to this heading"></a></h3>
<p>The configuration process is broken into six modules. Each module is responsible for configuring a subset of
Verify Access features. The order of configuration is:</p>
<ul class="simple">
<li><p>base (Licensing, SSL Databases, Cluster Settings)</p></li>
<li><p>appliance (if applicable)</p></li>
<li><p>container (if applicable)</p></li>
<li><p>webseal</p></li>
<li><p>access control</p></li>
<li><p>federations</p></li>
</ul>
<p>More complex deployment architectures can be achieved by running sequential <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> descriptors.</p>
</section>
<section id="yaml-configuration-keywords">
<span id="verify-access-autoconf-yaml-keywords"></span><h3>YAML configuration keywords<a class="headerlink" href="#yaml-configuration-keywords" title="Permalink to this heading"></a></h3>
<p>Each module expects a YAML object describing the desired configuration state. There are a number of useful features
which can be used to make configuration files re-usable and version controlled. There are three keywords which
can be used in configuration files:</p>
<blockquote>
<div><ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">!include</span></code></dt><dd><p>Used to include a YAML configuration file as the value of the given key. This file can be either an
absolute path or relative to the <code class="docutils literal notranslate"><span class="pre">ISVA_CONFIG_BASE</span></code> environment variable. eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>container: !include base_config.yaml
webseal: !include webseal.yaml
access_control: !include aac.yaml
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">!secret</span></code></dt><dd><p>Used to set the value of the given key as a value read from the given Kubernetes Secret Namespace/Name,
eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>admin_password: !secret default/isva-secrets:admin_secret
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">!environment</span></code>:</dt><dd><p>Used to set the value of the given key as the value read from the given environment variable,
eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>admin_password: !environment ISVA_ADMIN_SECRET
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</section>
<section id="environment-properties">
<span id="verify-access-autoconf-env-vars"></span><h3>Environment properties<a class="headerlink" href="#environment-properties" title="Permalink to this heading"></a></h3>
<p>In addition to the supplied YAML configuration, some properties can alternatively be set as environment variables. If
these variables are set, they take priority over values set in configuration files.</p>
<ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">ISVA_CONFIG_BASE</span></code></dt><dd><p>This variable is the root directory of all configuration files for the given Verify Access
Deployment. This can include: YAML configuration files; HTML template pages; JavaScript mapping
rules; XML configuration files.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If this environment variable is not set then the user’s <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> directory is used.</p>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ISVA_CONFIG_YAML</span></code></dt><dd><p>This variable defines the YAML configuration file to deploy. This can be either relative
to the <code class="docutils literal notranslate"><span class="pre">ISVA_CONFIG_BASE</span></code> directory or an absolute file path. If this variable is not defined
then the configuration will look for a file called <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> in the <code class="docutils literal notranslate"><span class="pre">ISVA_CONFIG_BASE</span></code>
directory.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ISVA_MGMT_BASE_URL</span></code></dt><dd><p>This variable is the URL address that Verify Access Local Management Interface is responding
on. This should contain: the https scheme; the domain or IP address; and a port if not the
standard (443) port. eg: <code class="docutils literal notranslate"><span class="pre">https://127.0.0.2:9443</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ISVA_MGMT_USER</span></code></dt><dd><p>The user to perform configuration as. This user should have sufficient permissions to configure
all of the features in your YAML configuration file.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ISVA_MGMT_PWD</span></code></dt><dd><p>The password required to authenticate as the user defined by <code class="docutils literal notranslate"><span class="pre">ISVA_MGMT_USER</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ISVA_MGMT_OLD_PWD</span></code></dt><dd><p>If a password change is required then this variable defines the password for <code class="docutils literal notranslate"><span class="pre">ISVA_MGMT_USER</span></code>
before the configuration is applied.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">ISVA_KUBERNETES_YAML_CONFIG</span></code></dt><dd><p>This variable defines the Kubernetes cluster configuration file required to run <code class="docutils literal notranslate"><span class="pre">kubectl</span></code>
commands. This configuration file should have sufficient permission in your cluster to restart
deployments and pods in the namespace that Verify Access is deployed to.
The file path can either be absolute or relative to the <code class="docutils literal notranslate"><span class="pre">ISVA_CONFIG_BASE</span></code> variable.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is only applicable for Container deployments using Kubernetes orchestration.</p>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">ISVA_DOCKER_COMPOSE_CONFIG</span></code></dt><dd><p>This variable defines the Docker-Compose deployment configuration file required to run
<code class="docutils literal notranslate"><span class="pre">docker-compose</span></code> commands for your Verify Access deployment. This file path can
either be absolute or relative to the <code class="docutils literal notranslate"><span class="pre">ISVA_CONFIG_BASE</span></code> variable.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is only applicable for Container deployments using Docker-Compose orchestration.</p>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ISVA_CONFIGURATOR_LOG_LEVEL</span></code></dt><dd><p>This variable set the logging level for the autoconf tool. The default log level is <code class="docutils literal notranslate"><span class="pre">INFO</span></code>.</p>
</dd>
</dl>
</li>
</ul>
<p>Detailed information on configuration object structure can be found in the submodule documentation</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example Verify Access Configurations (Getting Started)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#first-steps">First Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#first-steps-appliance-deployment">First Steps (appliance deployment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#webseal-reverse-proxy-using-advanced-access-control-authentication">WebSEAL Reverse Proxy using Advanced Access Control authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#installation-of-the-instana-monitoring-agent">Installation of the Instana monitoring Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#mobile-multi-factor-authentication">Mobile Multi-Factor Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#federation">Federation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appliance.html">Appliance Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#appliance-specific-configuration">Appliance specific configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#sla-first-steps">SLA / First steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#password-update">Password update</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#administrator-configuration">Administrator Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#ssl-certificate-database">SSL Certificate database</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#administrator-account-management">Administrator Account Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#management-authorization">Management Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#module-activation">Module Activation</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#advanced-tuning-parameters">Advanced tuning parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#configuration-snapshots">Configuration Snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#extensions">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#fips-compliance">FIPS Compliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#networking">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#date-time-settings">Date / Time settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance.html#cluster-configuration">Cluster Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="container.html">Container Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="container.html#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#container-specific-configuration">Container specific configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#sla-first-steps">SLA / First steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#password-update">Password update</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#administrator-configuration">Administrator Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#ssl-certificate-database">SSL Certificate database</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#administrator-account-management">Administrator Account Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#management-authorization">Management Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#module-activation">Module Activation</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#advanced-tuning-parameters">Advanced tuning parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#configuration-snapshots">Configuration Snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#extensions">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#managing-container-deployments">Managing Container Deployments</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html#database-configuration">Database Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="webseal.html">WebSEAL Reverse Proxy Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#reverse-proxy-instances">Reverse Proxy Instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#policy-directory-admin">Policy Directory Admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#client-certificate-mapping">Client certificate mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#junction-mapping">Junction Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#url-mapping">URL Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#user-mapping">User Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#forms-based-single-sign-on">Forms Based Single Sign-On</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#http-transformation-rules">HTTP Transformation Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#kerberos">Kerberos</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#password-strength-rules">Password Strength Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#rsa-securid-authenticaton">RSA SecurID Authenticaton</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#runtime-component">Runtime Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="webseal.html#api-access-control">API Access Control</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="access-control.html">Advanced Access Control Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#api-protection">API Protection</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#context-based-access-control">Context Based Access Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#risk-profiles">Risk Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#attributes">Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#obligations">Obligations</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#policy-information-points">Policy Information Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#http-template-files">HTTP Template Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#javascript-mapping-rules">JavaScript Mapping Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#push-notification-service">Push Notification Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#mobile-multi-factor-authentication">Mobile Multi-Factor Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#server-connections">Server Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#advanced-configuration-parameters">Advanced Configuration Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#scim">SCIM</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#fido2">FIDO2</a></li>
<li class="toctree-l2"><a class="reference internal" href="access-control.html#runtime-server-configuration">Runtime Server Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="federations.html">Federations Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="federations.html#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="federations.html#point-of-contact">Point Of Contact</a></li>
<li class="toctree-l2"><a class="reference internal" href="federations.html#alias-service">Alias Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="federations.html#attribute-sources">Attribute Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="federations.html#access-policies">Access Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="federations.html#security-token-service">Security Token Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="federations.html#federations">Federations</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="examples.html" class="btn btn-neutral float-right" title="Example Verify Access Configurations (Getting Started)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Lachlan Gleeson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>